#!/usr/bin/env bash
#
# find a file by its name, excluding .git
# https://stackoverflow.com/questions/4210042/how-to-exclude-a-directory-in-find-command

set -u

pattern="$1"

if git rev-parse 2> /dev/null ; then
  git ls-files -- "**/${pattern}"
else
  find . -name ".git" -prune -o -iname "*${pattern}*" -print
fi

# EOF
